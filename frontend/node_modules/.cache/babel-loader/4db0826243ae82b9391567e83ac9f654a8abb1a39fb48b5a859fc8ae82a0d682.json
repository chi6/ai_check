{"ast":null,"code":"var _jsxFileName = \"/Users/chi6/Documents/turnitin_web/frontend/src/pages/Result.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Typography, Card, Spin, Button, Progress, Tabs, List, Tag, Empty, message, Divider, Space, Alert, Row, Col, Statistic } from 'antd';\nimport { DownloadOutlined, FilePdfOutlined, FileTextOutlined, LeftOutlined, RobotOutlined, CheckCircleOutlined } from '@ant-design/icons';\nimport ReactECharts from 'echarts-for-react';\nimport { detectApi, reportApi } from '../api/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Title,\n  Paragraph,\n  Text\n} = Typography;\nconst ResultPage = () => {\n  _s();\n  const {\n    taskId\n  } = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState(null);\n  const [downloading, setDownloading] = useState(false);\n  const [detailData, setDetailData] = useState(null);\n  const [activeTabKey, setActiveTabKey] = useState('overview');\n  useEffect(() => {\n    if (taskId) {\n      fetchDetectionResult();\n    }\n  }, [taskId]);\n  const fetchDetectionResult = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // 获取检测状态\n      const response = await detectApi.getDetectionStatus(taskId);\n      setResult(response);\n\n      // 如果任务还在处理中\n      if (response.status === 'processing') {\n        // 轮询状态\n        const intervalId = setInterval(async () => {\n          try {\n            const updatedResponse = await detectApi.getDetectionStatus(taskId);\n            setResult(updatedResponse);\n            if (updatedResponse.status !== 'processing') {\n              clearInterval(intervalId);\n            }\n          } catch (error) {\n            console.error('获取检测状态失败:', error);\n            clearInterval(intervalId);\n          }\n        }, 5000);\n\n        // 清理定时器\n        return () => clearInterval(intervalId);\n      }\n\n      // 如果状态为已完成，获取详细报告\n      if (response.status === 'completed') {\n        fetchDetailedReport();\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('获取结果失败:', error);\n      setError('获取检测结果失败：' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || '请稍后再试'));\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchDetailedReport = async () => {\n    try {\n      const reportData = await reportApi.getJsonReport(taskId);\n      setDetailData(reportData);\n    } catch (error) {\n      console.error('获取详细报告失败:', error);\n      message.error('获取详细报告失败');\n    }\n  };\n  const handleDownloadPdf = async () => {\n    try {\n      setDownloading(true);\n      const pdfBlob = await reportApi.getPdfReport(taskId);\n\n      // 创建下载链接\n      const url = window.URL.createObjectURL(new Blob([pdfBlob]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `ai_detection_report_${taskId}.pdf`);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      message.success('PDF报告下载成功');\n    } catch (error) {\n      console.error('下载PDF报告失败:', error);\n      message.error('下载PDF报告失败');\n    } finally {\n      setDownloading(false);\n    }\n  };\n  const getStatusTag = status => {\n    switch (status) {\n      case 'uploaded':\n        return /*#__PURE__*/_jsxDEV(Tag, {\n          color: \"blue\",\n          children: \"\\u5F85\\u68C0\\u6D4B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 16\n        }, this);\n      case 'processing':\n        return /*#__PURE__*/_jsxDEV(Tag, {\n          color: \"orange\",\n          children: \"\\u68C0\\u6D4B\\u4E2D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 16\n        }, this);\n      case 'completed':\n        return /*#__PURE__*/_jsxDEV(Tag, {\n          color: \"green\",\n          children: \"\\u5DF2\\u5B8C\\u6210\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 16\n        }, this);\n      case 'failed':\n        return /*#__PURE__*/_jsxDEV(Tag, {\n          color: \"red\",\n          children: \"\\u5931\\u8D25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Tag, {\n          children: \"\\u672A\\u77E5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const renderPieChart = () => {\n    if (!result || !result.ai_generated_percentage) return null;\n    const option = {\n      tooltip: {\n        trigger: 'item',\n        formatter: '{b}: {c}%'\n      },\n      legend: {\n        orient: 'vertical',\n        right: 10,\n        top: 'center',\n        data: ['AI生成内容', '人类撰写内容']\n      },\n      series: [{\n        name: '内容来源',\n        type: 'pie',\n        radius: ['50%', '70%'],\n        avoidLabelOverlap: false,\n        label: {\n          show: false,\n          position: 'center'\n        },\n        emphasis: {\n          label: {\n            show: true,\n            fontSize: '18',\n            fontWeight: 'bold'\n          }\n        },\n        labelLine: {\n          show: false\n        },\n        data: [{\n          value: result.ai_generated_percentage,\n          name: 'AI生成内容',\n          itemStyle: {\n            color: '#ff4d4f'\n          }\n        }, {\n          value: 100 - result.ai_generated_percentage,\n          name: '人类撰写内容',\n          itemStyle: {\n            color: '#52c41a'\n          }\n        }]\n      }]\n    };\n    return /*#__PURE__*/_jsxDEV(ReactECharts, {\n      option: option,\n      style: {\n        height: 400\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 12\n    }, this);\n  };\n  const getAIParagraphs = () => {\n    if (!result || !result.details) return [];\n    return result.details.filter(item => item.ai_generated);\n  };\n  const getHumanParagraphs = () => {\n    if (!result || !result.details) return [];\n    return result.details.filter(item => !item.ai_generated);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: 100\n      },\n      children: [/*#__PURE__*/_jsxDEV(Spin, {\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paragraph, {\n        style: {\n          marginTop: 20\n        },\n        children: \"\\u6B63\\u5728\\u52A0\\u8F7D\\u68C0\\u6D4B\\u7ED3\\u679C...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Alert, {\n        message: \"\\u52A0\\u8F7D\\u5931\\u8D25\",\n        description: error,\n        type: \"error\",\n        showIcon: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 20,\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: fetchDetectionResult,\n          children: \"\\u91CD\\u8BD5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => navigate('/dashboard'),\n          style: {\n            marginLeft: 10\n          },\n          children: \"\\u8FD4\\u56DE\\u9996\\u9875\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this);\n  }\n  if (!result) {\n    return /*#__PURE__*/_jsxDEV(Empty, {\n      description: \"\\u672A\\u627E\\u5230\\u68C0\\u6D4B\\u7ED3\\u679C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 如果任务未完成\n  if (result.status !== 'completed') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: 30\n          },\n          children: result.status === 'processing' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Title, {\n              level: 3,\n              style: {\n                marginTop: 20\n              },\n              children: \"\\u68C0\\u6D4B\\u4E2D...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Paragraph, {\n              children: \"\\u6B63\\u5728\\u8FDB\\u884CAI\\u5185\\u5BB9\\u68C0\\u6D4B\\uFF0C\\u8BF7\\u7A0D\\u5019...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Progress, {\n              percent: 50,\n              status: \"active\",\n              style: {\n                maxWidth: 400,\n                margin: '20px auto'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : result.status === 'failed' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(FileTextOutlined, {\n              style: {\n                fontSize: 64,\n                color: '#ff4d4f'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Title, {\n              level: 3,\n              style: {\n                marginTop: 20\n              },\n              children: \"\\u68C0\\u6D4B\\u5931\\u8D25\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Paragraph, {\n              children: \"\\u5F88\\u62B1\\u6B49\\uFF0C\\u68C0\\u6D4B\\u8FC7\\u7A0B\\u53D1\\u751F\\u9519\\u8BEF\\u3002\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => navigate('/upload'),\n              children: \"\\u91CD\\u65B0\\u4E0A\\u4F20\\u68C0\\u6D4B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(FileTextOutlined, {\n              style: {\n                fontSize: 64,\n                color: '#1890ff'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Title, {\n              level: 3,\n              style: {\n                marginTop: 20\n              },\n              children: \"\\u7B49\\u5F85\\u68C0\\u6D4B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Paragraph, {\n              children: \"\\u4EFB\\u52A1\\u5DF2\\u4E0A\\u4F20\\uFF0C\\u4F46\\u5C1A\\u672A\\u5F00\\u59CB\\u68C0\\u6D4B\\u3002\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              onClick: () => detectApi.startDetection(taskId),\n              children: \"\\u5F00\\u59CB\\u68C0\\u6D4B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 任务已完成，显示结果\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 20\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        icon: /*#__PURE__*/_jsxDEV(LeftOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 23\n        }, this),\n        onClick: () => navigate('/dashboard'),\n        children: \"\\u8FD4\\u56DE\\u9996\\u9875\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"result-card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-summary\",\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          level: 2,\n          children: \"AI\\u5185\\u5BB9\\u68C0\\u6D4B\\u62A5\\u544A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 20\n          },\n          children: /*#__PURE__*/_jsxDEV(Space, {\n            split: /*#__PURE__*/_jsxDEV(Divider, {\n              type: \"vertical\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 27\n            }, this),\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              children: [\"\\u4EFB\\u52A1ID: \", taskId]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              children: [\"\\u72B6\\u6001: \", getStatusTag(result.status)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              children: [\"\\u68C0\\u6D4B\\u65F6\\u95F4: \", new Date(result.created_at).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(Progress, {\n            type: \"circle\",\n            percent: result.ai_generated_percentage,\n            format: percent => `${percent.toFixed(1)}%`,\n            strokeColor: result.ai_generated_percentage > 50 ? '#ff4d4f' : '#1890ff',\n            width: 120\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 10\n            },\n            children: /*#__PURE__*/_jsxDEV(Text, {\n              strong: true,\n              children: \"AI\\u751F\\u6210\\u5185\\u5BB9\\u6BD4\\u4F8B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), result.ai_generated_percentage > 50 ? /*#__PURE__*/_jsxDEV(Alert, {\n            message: \"\\u9AD8AI\\u5185\\u5BB9\\u6BD4\\u4F8B\",\n            description: \"\\u68C0\\u6D4B\\u5230\\u8F83\\u9AD8\\u6BD4\\u4F8B\\u7684AI\\u751F\\u6210\\u5185\\u5BB9\\uFF0C\\u5EFA\\u8BAE\\u5BA1\\u67E5\\u8BBA\\u6587\\u3002\",\n            type: \"warning\",\n            showIcon: true,\n            style: {\n              maxWidth: 500,\n              margin: '20px auto',\n              textAlign: 'left'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n            message: \"\\u4F4EAI\\u5185\\u5BB9\\u6BD4\\u4F8B\",\n            description: \"\\u68C0\\u6D4B\\u5230\\u7684AI\\u751F\\u6210\\u5185\\u5BB9\\u6BD4\\u4F8B\\u8F83\\u4F4E\\u3002\",\n            type: \"success\",\n            showIcon: true,\n            style: {\n              maxWidth: 500,\n              margin: '20px auto',\n              textAlign: 'left'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 20\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            icon: /*#__PURE__*/_jsxDEV(DownloadOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 21\n            }, this),\n            loading: downloading,\n            onClick: handleDownloadPdf,\n            children: \"\\u4E0B\\u8F7DPDF\\u62A5\\u544A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"result-card\",\n      children: /*#__PURE__*/_jsxDEV(Tabs, {\n        activeKey: activeTabKey,\n        onChange: setActiveTabKey,\n        children: [/*#__PURE__*/_jsxDEV(Tabs.TabPane, {\n          tab: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(FileTextOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this), \"\\u6982\\u89C8\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 15\n          }, this),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'center',\n              marginBottom: 20\n            },\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              level: 4,\n              children: \"\\u5185\\u5BB9\\u5206\\u5E03\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), renderPieChart()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              span: 12,\n              children: /*#__PURE__*/_jsxDEV(Statistic, {\n                title: \"AI\\u751F\\u6210\\u6BB5\\u843D\\u6570\",\n                value: getAIParagraphs().length,\n                prefix: /*#__PURE__*/_jsxDEV(RobotOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 12,\n              children: /*#__PURE__*/_jsxDEV(Statistic, {\n                title: \"\\u4EBA\\u7C7B\\u64B0\\u5199\\u6BB5\\u843D\\u6570\",\n                value: getHumanParagraphs().length,\n                prefix: /*#__PURE__*/_jsxDEV(CheckCircleOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)]\n        }, \"overview\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tabs.TabPane, {\n          tab: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(RobotOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this), \"AI\\u751F\\u6210\\u5185\\u5BB9\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(List, {\n            dataSource: getAIParagraphs(),\n            renderItem: item => /*#__PURE__*/_jsxDEV(List.Item, {\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"paragraph-card paragraph-ai\",\n                style: {\n                  width: '100%',\n                  borderColor: '#ff4d4f'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Paragraph, {\n                  children: item.paragraph\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginTop: 10\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Tag, {\n                    color: \"red\",\n                    children: \"AI\\u751F\\u6210\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 362,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    type: \"secondary\",\n                    children: [\"\\u539F\\u56E0: \", item.reason]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 17\n            }, this),\n            locale: {\n              emptyText: /*#__PURE__*/_jsxDEV(Empty, {\n                description: \"\\u672A\\u68C0\\u6D4B\\u5230AI\\u751F\\u6210\\u5185\\u5BB9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 28\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this)\n        }, \"ai\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tabs.TabPane, {\n          tab: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(CheckCircleOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this), \"\\u4EBA\\u7C7B\\u64B0\\u5199\\u5185\\u5BB9\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(List, {\n            dataSource: getHumanParagraphs(),\n            renderItem: item => /*#__PURE__*/_jsxDEV(List.Item, {\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"paragraph-card paragraph-human\",\n                style: {\n                  width: '100%',\n                  borderColor: '#52c41a'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Paragraph, {\n                  children: item.paragraph\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginTop: 10\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Tag, {\n                    color: \"green\",\n                    children: \"\\u4EBA\\u7C7B\\u64B0\\u5199\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 393,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Text, {\n                    type: \"secondary\",\n                    children: [\"\\u539F\\u56E0: \", item.reason]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this),\n            locale: {\n              emptyText: /*#__PURE__*/_jsxDEV(Empty, {\n                description: \"\\u672A\\u68C0\\u6D4B\\u5230\\u4EBA\\u7C7B\\u64B0\\u5199\\u5185\\u5BB9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 28\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this)\n        }, \"human\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 248,\n    columnNumber: 5\n  }, this);\n};\n_s(ResultPage, \"qa8RECkmrQg/8/IxDb+FeIFF/zs=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ResultPage;\nexport default ResultPage;\nvar _c;\n$RefreshReg$(_c, \"ResultPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Typography","Card","Spin","Button","Progress","Tabs","List","Tag","Empty","message","Divider","Space","Alert","Row","Col","Statistic","DownloadOutlined","FilePdfOutlined","FileTextOutlined","LeftOutlined","RobotOutlined","CheckCircleOutlined","ReactECharts","detectApi","reportApi","jsxDEV","_jsxDEV","Fragment","_Fragment","Title","Paragraph","Text","ResultPage","_s","taskId","navigate","loading","setLoading","result","setResult","error","setError","downloading","setDownloading","detailData","setDetailData","activeTabKey","setActiveTabKey","fetchDetectionResult","response","getDetectionStatus","status","intervalId","setInterval","updatedResponse","clearInterval","console","fetchDetailedReport","_error$response","_error$response$data","data","detail","reportData","getJsonReport","handleDownloadPdf","pdfBlob","getPdfReport","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","success","getStatusTag","color","children","fileName","_jsxFileName","lineNumber","columnNumber","renderPieChart","ai_generated_percentage","option","tooltip","trigger","formatter","legend","orient","right","top","series","name","type","radius","avoidLabelOverlap","label","show","position","emphasis","fontSize","fontWeight","labelLine","value","itemStyle","style","height","getAIParagraphs","details","filter","item","ai_generated","getHumanParagraphs","textAlign","padding","size","marginTop","description","showIcon","onClick","marginLeft","level","percent","maxWidth","margin","startDetection","marginBottom","icon","className","split","Date","created_at","toLocaleString","format","toFixed","strokeColor","width","strong","activeKey","onChange","TabPane","tab","span","title","length","prefix","dataSource","renderItem","Item","borderColor","paragraph","reason","locale","emptyText","_c","$RefreshReg$"],"sources":["/Users/chi6/Documents/turnitin_web/frontend/src/pages/Result.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { \n  Typography, Card, Spin, Button, Progress, Tabs, \n  List, Tag, Empty, message, Divider, Space, Alert, Row, Col, Statistic\n} from 'antd';\nimport { \n  DownloadOutlined, FilePdfOutlined, FileTextOutlined,\n  LeftOutlined, RobotOutlined, CheckCircleOutlined\n} from '@ant-design/icons';\nimport ReactECharts from 'echarts-for-react';\nimport { detectApi, reportApi } from '../api/api';\n\nconst { Title, Paragraph, Text } = Typography;\n\nconst ResultPage = () => {\n  const { taskId } = useParams();\n  const navigate = useNavigate();\n\n  const [loading, setLoading] = useState(true);\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState(null);\n  const [downloading, setDownloading] = useState(false);\n  const [detailData, setDetailData] = useState(null);\n  const [activeTabKey, setActiveTabKey] = useState('overview');\n\n  useEffect(() => {\n    if (taskId) {\n      fetchDetectionResult();\n    }\n  }, [taskId]);\n\n  const fetchDetectionResult = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      // 获取检测状态\n      const response = await detectApi.getDetectionStatus(taskId);\n      setResult(response);\n      \n      // 如果任务还在处理中\n      if (response.status === 'processing') {\n        // 轮询状态\n        const intervalId = setInterval(async () => {\n          try {\n            const updatedResponse = await detectApi.getDetectionStatus(taskId);\n            setResult(updatedResponse);\n            \n            if (updatedResponse.status !== 'processing') {\n              clearInterval(intervalId);\n            }\n          } catch (error) {\n            console.error('获取检测状态失败:', error);\n            clearInterval(intervalId);\n          }\n        }, 5000);\n        \n        // 清理定时器\n        return () => clearInterval(intervalId);\n      }\n      \n      // 如果状态为已完成，获取详细报告\n      if (response.status === 'completed') {\n        fetchDetailedReport();\n      }\n    } catch (error) {\n      console.error('获取结果失败:', error);\n      setError('获取检测结果失败：' + (error.response?.data?.detail || '请稍后再试'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchDetailedReport = async () => {\n    try {\n      const reportData = await reportApi.getJsonReport(taskId);\n      setDetailData(reportData);\n    } catch (error) {\n      console.error('获取详细报告失败:', error);\n      message.error('获取详细报告失败');\n    }\n  };\n\n  const handleDownloadPdf = async () => {\n    try {\n      setDownloading(true);\n      const pdfBlob = await reportApi.getPdfReport(taskId);\n      \n      // 创建下载链接\n      const url = window.URL.createObjectURL(new Blob([pdfBlob]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `ai_detection_report_${taskId}.pdf`);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      \n      message.success('PDF报告下载成功');\n    } catch (error) {\n      console.error('下载PDF报告失败:', error);\n      message.error('下载PDF报告失败');\n    } finally {\n      setDownloading(false);\n    }\n  };\n\n  const getStatusTag = (status) => {\n    switch (status) {\n      case 'uploaded':\n        return <Tag color=\"blue\">待检测</Tag>;\n      case 'processing':\n        return <Tag color=\"orange\">检测中</Tag>;\n      case 'completed':\n        return <Tag color=\"green\">已完成</Tag>;\n      case 'failed':\n        return <Tag color=\"red\">失败</Tag>;\n      default:\n        return <Tag>未知</Tag>;\n    }\n  };\n\n  const renderPieChart = () => {\n    if (!result || !result.ai_generated_percentage) return null;\n    \n    const option = {\n      tooltip: {\n        trigger: 'item',\n        formatter: '{b}: {c}%'\n      },\n      legend: {\n        orient: 'vertical',\n        right: 10,\n        top: 'center',\n        data: ['AI生成内容', '人类撰写内容']\n      },\n      series: [\n        {\n          name: '内容来源',\n          type: 'pie',\n          radius: ['50%', '70%'],\n          avoidLabelOverlap: false,\n          label: {\n            show: false,\n            position: 'center'\n          },\n          emphasis: {\n            label: {\n              show: true,\n              fontSize: '18',\n              fontWeight: 'bold'\n            }\n          },\n          labelLine: {\n            show: false\n          },\n          data: [\n            { value: result.ai_generated_percentage, name: 'AI生成内容', itemStyle: { color: '#ff4d4f' } },\n            { value: 100 - result.ai_generated_percentage, name: '人类撰写内容', itemStyle: { color: '#52c41a' } }\n          ]\n        }\n      ]\n    };\n    \n    return <ReactECharts option={option} style={{ height: 400 }} />;\n  };\n\n  const getAIParagraphs = () => {\n    if (!result || !result.details) return [];\n    return result.details.filter(item => item.ai_generated);\n  };\n\n  const getHumanParagraphs = () => {\n    if (!result || !result.details) return [];\n    return result.details.filter(item => !item.ai_generated);\n  };\n\n  if (loading) {\n    return (\n      <div style={{ textAlign: 'center', padding: 100 }}>\n        <Spin size=\"large\" />\n        <Paragraph style={{ marginTop: 20 }}>正在加载检测结果...</Paragraph>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div>\n        <Alert\n          message=\"加载失败\"\n          description={error}\n          type=\"error\"\n          showIcon\n        />\n        <div style={{ marginTop: 20, textAlign: 'center' }}>\n          <Button onClick={fetchDetectionResult}>重试</Button>\n          <Button onClick={() => navigate('/dashboard')} style={{ marginLeft: 10 }}>\n            返回首页\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  if (!result) {\n    return (\n      <Empty description=\"未找到检测结果\" />\n    );\n  }\n\n  // 如果任务未完成\n  if (result.status !== 'completed') {\n    return (\n      <div>\n        <Card>\n          <div style={{ textAlign: 'center', padding: 30 }}>\n            {result.status === 'processing' ? (\n              <>\n                <Spin />\n                <Title level={3} style={{ marginTop: 20 }}>检测中...</Title>\n                <Paragraph>正在进行AI内容检测，请稍候...</Paragraph>\n                <Progress percent={50} status=\"active\" style={{ maxWidth: 400, margin: '20px auto' }} />\n              </>\n            ) : result.status === 'failed' ? (\n              <>\n                <FileTextOutlined style={{ fontSize: 64, color: '#ff4d4f' }} />\n                <Title level={3} style={{ marginTop: 20 }}>检测失败</Title>\n                <Paragraph>很抱歉，检测过程发生错误。</Paragraph>\n                <Button onClick={() => navigate('/upload')}>重新上传检测</Button>\n              </>\n            ) : (\n              <>\n                <FileTextOutlined style={{ fontSize: 64, color: '#1890ff' }} />\n                <Title level={3} style={{ marginTop: 20 }}>等待检测</Title>\n                <Paragraph>任务已上传，但尚未开始检测。</Paragraph>\n                <Button type=\"primary\" onClick={() => detectApi.startDetection(taskId)}>开始检测</Button>\n              </>\n            )}\n          </div>\n        </Card>\n      </div>\n    );\n  }\n\n  // 任务已完成，显示结果\n  return (\n    <div>\n      <div style={{ marginBottom: 20 }}>\n        <Button icon={<LeftOutlined />} onClick={() => navigate('/dashboard')}>\n          返回首页\n        </Button>\n      </div>\n      \n      <Card className=\"result-card\">\n        <div className=\"result-summary\">\n          <Title level={2}>AI内容检测报告</Title>\n          <div style={{ marginBottom: 20 }}>\n            <Space split={<Divider type=\"vertical\" />}>\n              <Text>任务ID: {taskId}</Text>\n              <Text>状态: {getStatusTag(result.status)}</Text>\n              <Text>检测时间: {new Date(result.created_at).toLocaleString()}</Text>\n            </Space>\n          </div>\n          \n          <div style={{ marginBottom: 20 }}>\n            <Progress\n              type=\"circle\"\n              percent={result.ai_generated_percentage}\n              format={percent => `${percent.toFixed(1)}%`}\n              strokeColor={result.ai_generated_percentage > 50 ? '#ff4d4f' : '#1890ff'}\n              width={120}\n            />\n            <div style={{ marginTop: 10 }}>\n              <Text strong>AI生成内容比例</Text>\n            </div>\n            {result.ai_generated_percentage > 50 ? (\n              <Alert\n                message=\"高AI内容比例\"\n                description=\"检测到较高比例的AI生成内容，建议审查论文。\"\n                type=\"warning\"\n                showIcon\n                style={{ maxWidth: 500, margin: '20px auto', textAlign: 'left' }}\n              />\n            ) : (\n              <Alert\n                message=\"低AI内容比例\"\n                description=\"检测到的AI生成内容比例较低。\"\n                type=\"success\"\n                showIcon\n                style={{ maxWidth: 500, margin: '20px auto', textAlign: 'left' }}\n              />\n            )}\n          </div>\n          \n          <div style={{ marginTop: 20 }}>\n            <Button \n              type=\"primary\" \n              icon={<DownloadOutlined />} \n              loading={downloading} \n              onClick={handleDownloadPdf}\n            >\n              下载PDF报告\n            </Button>\n          </div>\n        </div>\n      </Card>\n      \n      <Card className=\"result-card\">\n        <Tabs activeKey={activeTabKey} onChange={setActiveTabKey}>\n          <Tabs.TabPane \n            tab={\n              <span>\n                <FileTextOutlined />\n                概览\n              </span>\n            } \n            key=\"overview\"\n          >\n            <div style={{ textAlign: 'center', marginBottom: 20 }}>\n              <Title level={4}>内容分布</Title>\n              {renderPieChart()}\n            </div>\n            \n            <Row>\n              <Col span={12}>\n                <Statistic\n                  title=\"AI生成段落数\"\n                  value={getAIParagraphs().length}\n                  prefix={<RobotOutlined />}\n                />\n              </Col>\n              <Col span={12}>\n                <Statistic\n                  title=\"人类撰写段落数\"\n                  value={getHumanParagraphs().length}\n                  prefix={<CheckCircleOutlined />}\n                />\n              </Col>\n            </Row>\n          </Tabs.TabPane>\n          \n          <Tabs.TabPane \n            tab={\n              <span>\n                <RobotOutlined />\n                AI生成内容\n              </span>\n            } \n            key=\"ai\"\n          >\n            <List\n              dataSource={getAIParagraphs()}\n              renderItem={item => (\n                <List.Item>\n                  <Card \n                    className=\"paragraph-card paragraph-ai\" \n                    style={{ width: '100%', borderColor: '#ff4d4f' }}\n                  >\n                    <Paragraph>{item.paragraph}</Paragraph>\n                    <div style={{ marginTop: 10 }}>\n                      <Tag color=\"red\">AI生成</Tag>\n                      <Text type=\"secondary\">原因: {item.reason}</Text>\n                    </div>\n                  </Card>\n                </List.Item>\n              )}\n              locale={{\n                emptyText: <Empty description=\"未检测到AI生成内容\" />\n              }}\n            />\n          </Tabs.TabPane>\n          \n          <Tabs.TabPane \n            tab={\n              <span>\n                <CheckCircleOutlined />\n                人类撰写内容\n              </span>\n            } \n            key=\"human\"\n          >\n            <List\n              dataSource={getHumanParagraphs()}\n              renderItem={item => (\n                <List.Item>\n                  <Card \n                    className=\"paragraph-card paragraph-human\" \n                    style={{ width: '100%', borderColor: '#52c41a' }}\n                  >\n                    <Paragraph>{item.paragraph}</Paragraph>\n                    <div style={{ marginTop: 10 }}>\n                      <Tag color=\"green\">人类撰写</Tag>\n                      <Text type=\"secondary\">原因: {item.reason}</Text>\n                    </div>\n                  </Card>\n                </List.Item>\n              )}\n              locale={{\n                emptyText: <Empty description=\"未检测到人类撰写内容\" />\n              }}\n            />\n          </Tabs.TabPane>\n        </Tabs>\n      </Card>\n    </div>\n  );\n};\n\nexport default ResultPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}